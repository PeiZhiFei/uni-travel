import{c as o,w as e,b as t,W as s,i as a,o as l,j as n,q as c,X as r,Y as i,k as m,t as u,y as f,p as h,Z as d}from"./index-B8Pvg4bB.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=C({data:()=>({zoomLevel:5,flash:"off",cameraContext:null,showFocusFrame:!1,focusX:0,focusY:0}),computed:{focusFrameStyle(){return{left:this.focusX-50+"px",top:this.focusY-50+"px"}}},onLoad(){this.initCamera()},onUnload(){this.stopCamera()},methods:{initCamera(){this.cameraContext=s(),this.$nextTick(()=>{setTimeout(()=>{this.setZoom(this.zoomLevel)},500)})},onCameraInit(){console.log("æ‘„åƒå¤´åˆå§‹åŒ–å®Œæˆ"),this.setZoom(this.zoomLevel)},onCameraError(o){console.error("æ‘„åƒå¤´é”™è¯¯:",o),t({title:"æ‘„åƒå¤´æ‰“å¼€å¤±è´¥",icon:"none",duration:2e3})},setZoom(o){this.cameraContext||(this.cameraContext=s());try{this.cameraContext.setZoom?this.cameraContext.setZoom({zoom:o,success:()=>{console.log("è®¾ç½®æ”¾å¤§å€æ•°æˆåŠŸ:",o)},fail:e=>{console.error("è®¾ç½®æ”¾å¤§å€æ•°å¤±è´¥:",e),this.setZoomAlternative(o)}}):this.setZoomAlternative(o)}catch(e){console.error("è®¾ç½®æ”¾å¤§å€æ•°å¼‚å¸¸:",e),this.setZoomAlternative(o)}},setZoomAlternative(o){console.log("ä½¿ç”¨å¤‡ç”¨æ”¾å¤§æ–¹æ¡ˆ:",o)},onZoomChange(o){const e=o.detail.value;this.zoomLevel=e,this.setZoom(e)},toggleFlash(){this.flash="on"===this.flash?"off":"on"},resetZoom(){this.zoomLevel=5,this.setZoom(5),t({title:"å·²é‡ç½®ä¸º5å€",icon:"success",duration:1e3})},stopCamera(){this.cameraContext&&(this.cameraContext=null)}}},[["render",function(t,s,C,_,v,x){const p=a,Z=i,g=r,z=h,b=d;return l(),o(p,{class:"magnifier-container"},{default:e(()=>[n(p,{class:"header"},{default:e(()=>[n(p,{class:"header-title"},{default:e(()=>[c("æ”¾å¤§é•œ")]),_:1})]),_:1}),n(p,{class:"content"},{default:e(()=>[n(g,{"device-position":"back",flash:v.flash,class:"camera-view",onError:x.onCameraError,onInitdone:x.onCameraInit},{default:e(()=>[n(Z,{class:"camera-overlay"},{default:e(()=>[n(Z,{class:"zoom-info"},{default:e(()=>[c(u(v.zoomLevel)+"x ",1)]),_:1}),v.showFocusFrame?(l(),o(Z,{key:0,class:"focus-frame",style:f(x.focusFrameStyle)},null,8,["style"])):m("",!0)]),_:1})]),_:1},8,["flash","onError","onInitdone"])]),_:1}),n(p,{class:"control-bar"},{default:e(()=>[n(p,{class:"zoom-control"},{default:e(()=>[n(z,{class:"control-label"},{default:e(()=>[c("æ”¾å¤§å€æ•°")]),_:1}),n(b,{value:v.zoomLevel,min:"1",max:"10",step:"0.5",onChange:x.onZoomChange,activeColor:"#4A90E2",backgroundColor:"#e0e0e0","block-color":"#4A90E2","block-size":"20"},null,8,["value","onChange"]),n(z,{class:"zoom-value"},{default:e(()=>[c(u(v.zoomLevel)+"x",1)]),_:1})]),_:1}),n(p,{class:"function-buttons"},{default:e(()=>[n(p,{class:"func-btn",onClick:x.toggleFlash},{default:e(()=>[n(z,{class:"func-icon"},{default:e(()=>[c(u("on"===v.flash?"ğŸ’¡":"ğŸ”¦"),1)]),_:1}),n(z,{class:"func-text"},{default:e(()=>[c(u("on"===v.flash?"å…³é—­":"å¼€å¯")+"é—ªå…‰ç¯",1)]),_:1})]),_:1},8,["onClick"]),n(p,{class:"func-btn",onClick:x.resetZoom},{default:e(()=>[n(z,{class:"func-icon"},{default:e(()=>[c("ğŸ”")]),_:1}),n(z,{class:"func-text"},{default:e(()=>[c("é‡ç½®")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-4f7b8814"]]);export{_ as default};
