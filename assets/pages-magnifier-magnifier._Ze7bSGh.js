import{c as e,w as o,b as a,W as t,H as s,i as l,o as n,j as c,q as r,X as i,y as m,Y as f,t as h,p as u,Z as d}from"./index-ONQ8qMAl.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=C({data:()=>({zoomLevel:5,flash:"off",cameraContext:null}),computed:{cameraStyle(){const e=this.zoomLevel;return{transform:`scale(${e})`,transformOrigin:"center center",width:100/e+"%",height:100/e+"%",marginLeft:50*(e-1)+"%",marginTop:50*(e-1)+"%"}}},onLoad(){this.initCamera()},onUnload(){this.stopCamera()},methods:{initCamera(){this.cameraContext=t("magnifierCamera",this),this.$nextTick(()=>{setTimeout(()=>{this.setZoom(this.zoomLevel)},1e3)})},onCameraInit(){console.log("æ‘„åƒå¤´åˆå§‹åŒ–å®Œæˆ"),setTimeout(()=>{this.setZoom(this.zoomLevel)},500)},onCameraError(e){console.error("æ‘„åƒå¤´é”™è¯¯:",e),s({title:"æç¤º",content:"æ‘„åƒå¤´æ‰“å¼€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç›¸æœºæƒé™",showCancel:!1})},setZoom(e){this.cameraContext||(this.cameraContext=t("magnifierCamera",this));try{this.cameraContext&&this.cameraContext.setZoom&&this.cameraContext.setZoom({zoom:e,success:()=>{console.log("è®¾ç½®æ”¾å¤§å€æ•°æˆåŠŸ:",e)},fail:e=>{console.log("APIä¸æ”¯æŒç¼©æ”¾ï¼Œä½¿ç”¨CSSæ”¾å¤§:",e)}})}catch(o){console.log("è®¾ç½®æ”¾å¤§å€æ•°å¼‚å¸¸ï¼Œä½¿ç”¨CSSæ”¾å¤§:",o)}},onZoomChange(e){const o=e.detail.value;this.zoomLevel=o,this.setZoom(o)},toggleFlash(){this.flash="on"===this.flash?"off":"on"},resetZoom(){this.zoomLevel=5,this.setZoom(5),a({title:"å·²é‡ç½®ä¸º5å€",icon:"success",duration:1e3})},stopCamera(){this.cameraContext&&(this.cameraContext=null)}}},[["render",function(a,t,s,C,_,g){const v=l,x=f,p=i,z=u,Z=d;return n(),e(v,{class:"magnifier-container"},{default:o(()=>[c(v,{class:"header"},{default:o(()=>[c(v,{class:"header-title"},{default:o(()=>[r("æ”¾å¤§é•œ")]),_:1})]),_:1}),c(v,{class:"content"},{default:o(()=>[c(p,{id:"magnifierCamera","device-position":"back",flash:_.flash,class:"camera-view",style:m(g.cameraStyle),onError:g.onCameraError,onInitdone:g.onCameraInit},{default:o(()=>[c(x,{class:"camera-overlay"},{default:o(()=>[c(x,{class:"zoom-info"},{default:o(()=>[r(h(_.zoomLevel)+"x ",1)]),_:1})]),_:1})]),_:1},8,["flash","style","onError","onInitdone"])]),_:1}),c(v,{class:"control-bar"},{default:o(()=>[c(v,{class:"zoom-control"},{default:o(()=>[c(z,{class:"control-label"},{default:o(()=>[r("æ”¾å¤§å€æ•°")]),_:1}),c(Z,{value:_.zoomLevel,min:"1",max:"10",step:"0.5",onChange:g.onZoomChange,activeColor:"#4A90E2",backgroundColor:"#e0e0e0","block-color":"#4A90E2","block-size":"20"},null,8,["value","onChange"]),c(z,{class:"zoom-value"},{default:o(()=>[r(h(_.zoomLevel)+"x",1)]),_:1})]),_:1}),c(v,{class:"function-buttons"},{default:o(()=>[c(v,{class:"func-btn",onClick:g.toggleFlash},{default:o(()=>[c(z,{class:"func-icon"},{default:o(()=>[r(h("on"===_.flash?"ğŸ’¡":"ğŸ”¦"),1)]),_:1}),c(z,{class:"func-text"},{default:o(()=>[r(h("on"===_.flash?"å…³é—­":"å¼€å¯")+"é—ªå…‰ç¯",1)]),_:1})]),_:1},8,["onClick"]),c(v,{class:"func-btn",onClick:g.resetZoom},{default:o(()=>[c(z,{class:"func-icon"},{default:o(()=>[r("ğŸ”")]),_:1}),c(z,{class:"func-text"},{default:o(()=>[r("é‡ç½®")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-0528634f"]]);export{_ as default};
